<html>
<head>
<title>Test adb</title>
<script type="text/javascript">

var strDir="/sdcard/Movies/";
var strBaseCMD= "adb shell screenrecord --verbose --time-limit 30 ";

function GetDateFileName(strPrefix,strSuffix)
{
	var retval=strPrefix;
	var todayDate = new Date();
	retval+=todayDate.getFullYear();
	retval+=("0" + (todayDate.getMonth() + 1)).slice(-2);
	retval+=("0" + todayDate.getDate()).slice(-2);
	retval+=("0" + todayDate.getHours()).slice(-2);
	retval+=("0" + todayDate.getMinutes()).slice(-2);
	retval+=("0" + todayDate.getSeconds()).slice(-2);
	retval+=strSuffix;
	return retval;
}
function GetCurrentDate() 
{
	// Today date time which will used to set as default date.
	var todayDate = new Date();
	todayDate = todayDate.getFullYear() + "-" +
				   ("0" + (todayDate.getMonth() + 1)).slice(-2) + "-" +
				   ("0" + todayDate.getDate()).slice(-2) + " " + ("0" + todayDate.getHours()).slice(-2) + ":" +
				   ("0" + todayDate.getMinutes()).slice(-2);

	return todayDate;
}

function body_load()
{
	var o=document.getElementById("tbResults");
	if(o!=undefined)
	{
		var strFilename=GetDateFileName("vid_",".mp4");
		var strCMD=strBaseCMD+strDir+strFilename;
		o.value=strCMD;
		o.select();
	}
}
	
</script>
</head>
<body onload="body_load();">
<textarea id="tbResults" rows="3" cols="100"></textarea>
</body>
</html>
